<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Athlete Performance Tracker</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üèÉ</text></svg>">
    
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #eff6ff 0%, #e0e7ff 100%);
            min-height: 100vh;
        }
        .loading-spinner {
            border: 4px solid #f3f4f6;
            border-top: 4px solid #3b82f6;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
    
    <link rel="stylesheet" href="styles.css" media="print" onload="this.media='all'">
    <noscript><link rel="stylesheet" href="styles.css"></noscript>
</head>
<body>
    <div id="root">
        <div style="display: flex; justify-content: center; align-items: center; height: 100vh; flex-direction: column; gap: 1rem;">
            <div class="loading-spinner"></div>
            <p style="color: #6b7280;">Loading PerformanceDB...</p>
        </div>
    </div>
    
    <!-- 1. React and ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <!-- 2. Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
    
    <!-- 3. Firebase Configuration -->
    <script src="firebase-config.js"></script>
    
   <!-- 4. Chart.js - Much more reliable than Recharts -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    
    <script>
      console.log('‚úÖ Chart.js script loaded');
      setTimeout(function() {
        if (window.Chart) {
          console.log('‚úÖ Chart.js available and ready');
        } else {
          console.error('‚ùå Chart.js not available');
        }
      }, 100);
    </script>
    
    <!-- 5. Icons -->
    <script>
        window.Icons = {
            Activity: () => 'üèÉ',
            Users: () => 'üë•',
            Calendar: () => 'üìÖ',
            TrendingUp: () => 'üìà'
        };
    </script>
    
    <!-- 6. Services -->
    <script src="services-combined.js"></script>
    
    <!-- 7. Components -->
    <script src="components.js"></script>
    
    <!-- 8. Debug Check -->
    <script>
      console.log('=== Checking Dependencies ===');
      console.log('React:', typeof React);
      console.log('ReactDOM:', typeof ReactDOM);
      console.log('Chart.js:', typeof Chart);
    </script>

    <!-- 9. Main App -->
    <script src="app.js"></script>
    
    <!-- 10. Performance Monitor -->
    <script>
        window.addEventListener('load', function() {
            if (window.performance) {
                const perfData = window.performance.timing;
                const pageLoadTime = perfData.loadEventEnd - perfData.navigationStart;
                console.log('üìä Performance: Total Load Time:', pageLoadTime + 'ms');
            }
        });
    </script>
</body>
</html>